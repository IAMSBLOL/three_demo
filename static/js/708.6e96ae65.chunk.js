/*! For license information please see 708.6e96ae65.chunk.js.LICENSE.txt */
"use strict";(("undefined"!==typeof self?self:this).webpackChunkreact_cli=("undefined"!==typeof self?self:this).webpackChunkreact_cli||[]).push([[708],{4708:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var r=t(805),o=t(5671),a=t(3144),i=t(7326),c=t(9340),u=t(4062),s=t(4942),d=Math.PI/2,l=new r.USm(0,0,0,"YXZ"),m=new r.Pa4,f=new r.Pa4(0,0,-1),v={type:"change"},w={type:"lock"},h={type:"unlock"},p=function(e){(0,c.Z)(t,e);var n=(0,u.Z)(t);function t(e,r){var a;return(0,o.Z)(this,t),a=n.call(this),(0,s.Z)((0,i.Z)(a),"isLocked",!1),(0,s.Z)((0,i.Z)(a),"getDirection",(function(e){return e.copy(f).applyQuaternion(a.camera.quaternion)})),(0,s.Z)((0,i.Z)(a),"onMouseMove",(function(e){if(!1!==a.isLocked){var n=e.movementX||e.mozMovementX||e.webkitMovementX||0,t=e.movementY||e.mozMovementY||e.webkitMovementY||0;l.setFromQuaternion(a.camera.quaternion),l.y-=.002*n,l.x-=.002*t,l.x=Math.max(-d,Math.min(d,l.x)),a.camera.quaternion.setFromEuler(l),a.dispatchEvent(v)}})),(0,s.Z)((0,i.Z)(a),"onPointerlockChange",(function(){document.pointerLockElement===a.domElement?(a.dispatchEvent(w),a.isLocked=!0):(a.dispatchEvent(h),a.isLocked=!1)})),(0,s.Z)((0,i.Z)(a),"onPointerlockError",(function(){})),void 0===r&&(r=document.body),a.camera=e,a.domElement=r,a.connect(),a}return(0,a.Z)(t,[{key:"connect",value:function(){document.addEventListener("mousemove",this.onMouseMove,!1),document.addEventListener("pointerlockchange",this.onPointerlockChange,!1),document.addEventListener("pointerlockerror",this.onPointerlockError,!1)}},{key:"disconnect",value:function(){document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("pointerlockchange",this.onPointerlockChange,!1),document.removeEventListener("pointerlockerror",this.onPointerlockError,!1)}},{key:"dispose",value:function(){this.disconnect()}},{key:"getObject",value:function(){return this.camera}},{key:"moveForward",value:function(e){m.setFromMatrixColumn(this.camera.matrix,0),m.crossVectors(this.camera.up,m),this.camera.position.addScaledVector(m,e)}},{key:"moveRight",value:function(e){m.setFromMatrixColumn(this.camera.matrix,0),this.camera.position.addScaledVector(m,e)}},{key:"lock",value:function(){this.domElement.requestPointerLock()}},{key:"unlock",value:function(){document.exitPointerLock()}}]),t}(r.pBf),g=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,null,[{key:"isWebGLAvailable",value:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(n){return!1}}},{key:"isWebGL2Available",value:function(){try{var e=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!e.getContext("webgl2"))}catch(n){return!1}}},{key:"getWebGLErrorMessage",value:function(){return this.getErrorMessage(1)}},{key:"getWebGL2ErrorMessage",value:function(){return this.getErrorMessage(2)}},{key:"getErrorMessage",value:function(e){var n={1:window.WebGLRenderingContext,2:window.WebGL2RenderingContext},t='Your $0 does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">$1</a>',r=document.createElement("div");return r.id="webglmessage",r.style.fontFamily="monospace",r.style.fontSize="13px",r.style.fontWeight="normal",r.style.textAlign="center",r.style.background="#fff",r.style.color="#000",r.style.padding="1.5em",r.style.width="400px",r.style.margin="5em auto 0",t=(t=n[e]?t.replace("$0","graphics card"):t.replace("$0","browser")).replace("$1",{1:"WebGL",2:"WebGL 2"}[e]),r.innerHTML=t,r}}]),e}(),k=t(4686),y=t(5861),b=t(7757),x=t.n(b),E=function(){var e=(0,y.Z)(x().mark((function e(n,t){var o,a,i,c;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new r.Aip(50,60,60)).scale(-1,1,1),e.next=4,new Promise((function(e,n){(new r.dpR).load("/360.jpg",(function(n){e(n)}),void 0,(function(e){n(e)}))}));case 4:a=e.sent,i=new r.YBo({map:a,side:r.ehD}),c=new r.Kj0(o,i),n.add(c),t(),c.layers.set(1);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),L=t(7313),M=t(7107),Z=t(4373),P=t(6938),C=t(6417),W=new r.SUY,R=function(){var e=(0,L.useRef)(null),n=(0,L.useRef)(null),t=(0,L.useRef)(new r.cPb(90,window.innerWidth/window.innerHeight,1,1800)),o=(0,L.useRef)(new r.xsS),a=(0,L.useRef)();return(0,L.useEffect)((function(){if(e.current&&g.isWebGLAvailable()){n.current=new r.CP7({antialias:!0,canvas:e.current,alpha:!0}),n.current.setPixelRatio(window.devicePixelRatio),n.current.setSize(window.innerWidth,window.innerHeight);var i=function(){var e;null===(e=n.current)||void 0===e||e.render(o.current,t.current)};!function(e,n){var t=(new r.dpR).load("/bg.jpg");e.background=t,(new k.y).load("/fbx/Samba Dancing.fbx",(function(t){n.current=new r.Xcj(t),n.current.clipAction(t.animations[0]).play(),t.traverse((function(e){e instanceof r.Kj0&&(e.castShadow=!0,e.receiveShadow=!0)})),t.translateY(-200),t.translateZ(-80),e.add(t)}),void 0,(function(e){}))}(o.current,a),function(e){e.lookAt(0,0,0),e.translateZ(200)}(t.current),function(e){var n=new r.vmT("blue","red");n.position.set(0,200,0),e.add(n);var t=new r.Ox3("#fff");t.position.set(0,200,100),t.castShadow=!0,t.shadow.camera.top=180,t.shadow.camera.bottom=-100,t.shadow.camera.left=-120,t.shadow.camera.right=120,e.add(t)}(o.current),E(o.current,i),i();var c=new r._fP,u=new r.USm(0,.01,0,"XYZ");c.setFromEuler(u);var s=new p(t.current,e.current),d=new Z.xC(n.current),l=new P.C(o.current,t.current);d.addPass(l);var m=new M.C;d.addPass(m);!function e(){i(),d.render();var n=W.getDelta();a.current&&a.current.update(n),requestAnimationFrame(e)}(),window.document.body.addEventListener("click",(function(){s.lock()}),!1),window.document.body.click()}}),[]),(0,C.jsx)("div",{className:"Panorama___QpXJb",children:(0,C.jsx)("canvas",{ref:e,className:"canvas"})})}}}]);